<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MiniCraft+ — CDN Fix</title>
  <style>
    html,body{margin:0;height:100%;overflow:hidden;background:#111;color:#eee;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    #ui{position:fixed;inset:0;pointer-events:none}
    #hint{position:absolute;left:50%;top:10px;transform:translateX(-50%);background:rgba(0,0,0,.5);padding:6px 10px;border-radius:8px;font-weight:700}
    #hotbar{position:absolute;left:50%;bottom:20px;transform:translateX(-50%);display:flex;gap:6px}
    .slot{pointer-events:auto;width:48px;height:48px;border:2px solid #000;border-radius:8px;background:rgba(0,0,0,.35);display:grid;place-items:center;box-shadow:0 4px 16px rgba(0,0,0,.4)}
    .slot.active{outline:2px solid #4fc3ff}
    .blk{width:28px;height:28px;border-radius:4px;box-shadow:inset 0 2px 0 rgba(255,255,255,.2)}
    .grass{background:linear-gradient(#6bc760,#4c8f44)}
    .dirt{background:linear-gradient(#8b5a3c,#5c3b26)}
    .stone{background:linear-gradient(#bfbfbf,#8e8e8e)}
    .sand{background:linear-gradient(#f0e3a1,#d1c27e)}
    .wood{background:linear-gradient(#b0763d,#7a4f25)}
    .leaves{background:linear-gradient(#7fe37a,#4aa34f)}
    .water{background:linear-gradient(#5bc0ff,#2c7df0)}
    .glass{background:linear-gradient(#d3ecff,#96c8ff)}
    #cross{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:24px;height:24px;opacity:.85}
    #cross:before,#cross:after{content:"";position:absolute;background:#fff}
    #cross:before{left:50%;top:0;width:2px;height:100%;transform:translateX(-50%)}
    #cross:after{top:50%;left:0;width:100%;height:2px;transform:translateY(-50%)}
    #overlay{position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.6)}
    .card{background:#1a1f2a;border:2px solid #000;border-radius:14px;padding:16px;text-align:center;max-width:620px}
    .btn{display:inline-block;margin-top:10px;background:#2c7df0;color:#fff;padding:10px 14px;border-radius:10px;font-weight:900;text-decoration:none;pointer-events:auto}
  </style>
</head>
<body>
  <div id="overlay">
    <div class="card">
      <h2>MiniCraft+ — CDN‑fixad</h2>
      <p>Om din gamla sida kraschade med <code>Failed to resolve module specifier 'three'</code> var det för att den använde <b>bare imports</b>.<br>
      Den här varianten importerar Three.js via CDN och fungerar på GitHub Pages.</p>
      <a href="#" class="btn" id="start">▶️ Starta</a>
    </div>
  </div>
  <div id="ui">
    <div id="hint">WASD + Mus · LMB bryt · RMB placera · 1–8 block · F flyga · F5 spara</div>
    <div id="hotbar"></div>
    <div id="cross"></div>
  </div>

  <script type="module">
    import * as THREE from 'https://unpkg.com/three@0.160.0/build/three.module.js';
    import { PointerLockControls } from 'https://unpkg.com/three@0.160.0/examples/jsm/controls/PointerLockControls.js';

    // Minimal värld för test
    const scene=new THREE.Scene(); scene.background=new THREE.Color(0x88baff);
    const camera=new THREE.PerspectiveCamera(75, innerWidth/innerHeight, .1, 2000);
    const renderer=new THREE.WebGLRenderer({antialias:true}); renderer.setSize(innerWidth,innerHeight); document.body.appendChild(renderer.domElement);
    addEventListener('resize', ()=>{ camera.aspect=innerWidth/innerHeight; camera.updateProjectionMatrix(); renderer.setSize(innerWidth,innerHeight); });

    const sun=new THREE.DirectionalLight(0xffffff, 1.0); sun.position.set(1,1,.5); scene.add(sun); scene.add(new THREE.AmbientLight(0x404040));

    const controls=new PointerLockControls(camera, document.body);
    document.getElementById('start').onclick=(e)=>{ e.preventDefault(); document.getElementById('overlay').style.display='none'; controls.lock(); };

    // markera att allt funkar: rita kub
    const box=new THREE.Mesh(new THREE.BoxGeometry(4,4,4), new THREE.MeshLambertMaterial({color:0xffca6a}));
    scene.add(box); camera.position.set(8,6,10);

    function loop(){ box.rotation.y+=0.01; renderer.render(scene,camera); requestAnimationFrame(loop); }
    loop();
  </script>
</body>
</html>
